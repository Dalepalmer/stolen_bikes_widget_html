<!DOCTYPE html>
<html>
<head><style type="text/css">
#bi-stolen-widget{font-family:Helvetica;position:relative;border:1px solid #3c6277;border-radius:2px;background:#223844}#bi-stolen-widget ul{list-style-type:none;margin:0;padding:5px 5px 2.5em;max-height:350px;overflow:auto}#bi-stolen-widget li{*zoom:1;margin:.5em 0 0;padding:6px;border:1px solid #DC7D59;border-radius:2px;background:#fff;position:relative}#bi-stolen-widget li:before,#bi-stolen-widget li:after{display:table;content:"";line-height:0}#bi-stolen-widget li:after{clear:both}#bi-stolen-widget p,#bi-stolen-widget h4{width:73%}#bi-stolen-widget h4{margin:0;font-size:17px;font-weight:normal}#bi-stolen-widget p{color:#b1b1b1;font-weight:200}#bi-stolen-widget .stolen-thumb{float:right;position:relative;width:26%;margin-left:2%}#bi-stolen-widget .stolen-thumb img{display:block;width:100%;height:auto}#bi-stolen-widget a{color:#3498db;text-decoration:none}#bi-stolen-widget a:hover{color:#217dbb}#bi-stolen-widget .widget-info{font-weight:200;font-size:14px;text-align:center;position:absolute;bottom:0;left:0;width:100%;background:rgba(0,0,0,0.7);color:#fff;padding:.5em 0}#bi-stolen-widget .binxerror{padding:10px}#bi-stolen-widget .binxerror h4,#bi-stolen-widget .binxerror p{width:100%}#bi-stolen-widget .binxerror h4{color:white;text-align:center}#bi-stolen-widget .binxerror p{text-align:right;opacity:.4}#bi-stolen-widget pre{color:#b1b1b1;text-align:center;margin:1em 0 2em}@media (max-width: 300px){#bi-stolen-widget li p{display:none}}
</style></head>
<body id="bistole-body">
  <div id="bi-stolen-widget" data-location="Tokyo"></div>
</body>
<script type="text/javascript">
var loadBikes,stolenBinxList,unableToBinxList,__indexOf=[].indexOf||function(e){for(var t=0,n=this.length;n>t;t++)if(t in this&&this[t]===e)return t;return-1};stolenBinxList=function(e,t){var n,i,s,o,r,l,a,d,u,c,b;for(null==t&&(t=null),d=document.getElementById("bi-stolen-widget"),r=document.createElement("ul"),r.setAttribute("id","bistole-list"),r.innerHTML="",o=c=0,b=e.length;b>c&&(n=e[o],!(o>6));o=++c)a=new Date(Date.parse(n.stolen_record.date_stolen)),a=a.toString().split(/\d{2}:/)[0],l="<li>",null!=n.thumb&&(l+="<a href='"+n.url+"' class='stolen-thumb'><img src='"+n.thumb+"'></a>"),l+="  <h4>\n    <a href='"+n.url+"'>"+n.title+"</a>\n  </h4>\n  <p>\n    Stolen from "+n.stolen_record.location+"\n    &mdash; on "+a+"\n  </p>\n</li>",r.innerHTML+=l;return d.appendChild(r),u=document.createElement("div"),u.setAttribute("class","widget-info"),u.innerHTML="Recent thefts near you",d.appendChild(u),s=getComputedStyle(document.getElementById("bistole-body")).height,document.getElementById("bistole-list").style.height=s,null!=t?(i={bikes:e,time:t},localStorage.setItem("binx_rstolen",JSON.stringify(i))):void 0},loadBikes=function(location,bikes){var req,url;return null==bikes&&(bikes=[]),console.log(bikes),req=new XMLHttpRequest,url="https://bikeindex.org/api/v1/bikes?stolen=true&proximity="+location+"&proximity_radius=100",req.addEventListener("readystatechange",function(){var data,successResultCodes,time,_ref;return 4===req.readyState?(successResultCodes=[200],_ref=req.status,__indexOf.call(successResultCodes,_ref)>=0?(data=eval("("+req.responseText+")"),data.bikes.length>5?(bikes=bikes.concat(data.bikes),time=(new Date).getTime(),stolenBinxList(bikes,time)):(console.log("we run again"),loadBikes("",data.bikes))):[]):void 0}),req.open("GET",url,!1),req.send()},unableToBinxList=function(){var e,t;return t=document.getElementById("bi-stolen-widget"),e=document.createElement("div"),e.innerHTML="<div class='binxerror'>\n<h4>Something went wrong. We couldn't get any recent stolen bikes. Check the <a href='https://bikeindex.org'>Bike Index</a> for an updated list.</h4>\n<pre>\n          ~~O     \n        -  /,    \n       -  -|~(*)  \n      -  (*)      \n\n     ---^------   \n</pre><p>... or maybe you should just go ride your bike</p></div>",t.appendChild(e)},function(){var e,t,n,i;return n=document.getElementById("bi-stolen-widget").getAttribute("data-location"),t=!1,e=localStorage.getItem("binx_rstolen"),i=(new Date).getTime(),loadBikes(n)}();
</script>
</html>